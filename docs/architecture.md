# HeliosHash DAO Architecture

## Overview

HeliosHash DAO (HHDAO) is a decentralized platform combining Motoko canisters (Internet Computer) for backend logic and a Next.js + TypeScript frontend. The architecture is modular, scalable, and designed for transparent governance and incentive distribution.

---

## 1. Backend: Motoko Canisters

- **Location:** `canisters/hhdao/src/`, `canisters/dao/`, `canisters/identity/`, etc.
- **Core Logic:** Business rules, proposal management, rewards, and governance in `lib.mo`.
- **Actor Entrypoints:** Thin wrappers in `main.mo` delegate to business logic.
- **Testing:** Motoko test runner (`canisters/test-runner/`).
- **Integration:** Exposed via Candid interfaces, TypeScript bindings generated in `src/declarations/`.

---

## 2. Frontend: Next.js + TypeScript

- **Location:** `app/`, `src/components/`, `src/hooks/`
- **App Router:** Modern Next.js routing in `app/`
- **Components:** UI in `src/components/`, including job board, governance, wallet, etc.
- **Hooks:** State management, canister calls, and auth in `src/hooks/`
- **Integration:** Uses generated canister actors from `src/declarations/`

---

## 3. Integration Points

- **Canister Bindings:** Generated by `dfx deploy` or `dfx generate`, imported in frontend
- **API Calls:** Frontend interacts with Motoko canisters via actors (see `src/declarations/`)
- **State:** In-memory (MVP), no persistent storage
- **Auth:** Simulated (localStorage/mock) for MVP

---

## 4. Testing & Observability

- **Unit:** Vitest for React components
- **E2E:** Playwright for user flows
- **Motoko:** Custom test runner for canisters
- **Status Endpoint:** `/api/status` for health and observability

---

## 5. Diagrams

```mermaid
graph TD
  subgraph Frontend (Next.js)
    A[App Router]
    B[Components]
    C[Hooks]
  end
  subgraph Backend (Motoko Canisters)
    D[lib.mo]
    E[main.mo]
  end
  F[Canister Bindings]
  G[DFX]
  H[IC Network]

  A --> B
  B --> C
  C --> F
  F --> D
  D --> E
  E --> H
  G --> F
```

---

## 6. Extensibility

- Add new canisters in `canisters/`
- Add new frontend features in `app/` and `src/components/`
- Update Candid interfaces and regenerate bindings as needed

---

For more details, see `docs/` and code comments in `canisters/hhdao/src/lib.mo` and `src/components/`.
