(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5427],{9213:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var a=r(7653);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),toPascalCase=e=>{let t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),hasA11yProp=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:c="",children:o,iconNode:i,...l},u)=>(0,a.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:mergeClasses("lucide",c),...!o&&!hasA11yProp(l)&&{"aria-hidden":"true"},...l},[...i.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),createLucideIcon=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},c)=>(0,a.createElement)(s,{ref:c,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,r),...n}));return r.displayName=toPascalCase(e),r}},7946:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(9213);let n=(0,a.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3337:function(e,t,r){Promise.resolve().then(r.bind(r,5817))},5817:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return TestCanisterPage}});var a=r(7573),n=r(7653),s=r(991),c=r(6077);let idlFactory=e=>{let{IDL:t}=e;return t.Service({})};var o=r(8571);let HHDAOService=class HHDAOService{async initializeActor(){if("true"===o.env.NEXT_PUBLIC_FORCE_MOCK){console.log("HHDAO: NEXT_PUBLIC_FORCE_MOCK=true - skipping agent initialization (using mocks)");return}let e="http://127.0.0.1:4943",t=!0;if(/127\.0\.0\.1|localhost/.test(e))try{let t=new AbortController,r=setTimeout(()=>t.abort(),1e3);await fetch("".concat(e,"/api/v2/status"),{signal:t.signal}).finally(()=>clearTimeout(r))}catch(r){console.log("Local ICP replica unreachable at",e,"; using mock data."),t=!1}if(!t)return;let r=new s.i7({host:e}),a="uzt4z-lp777-77774-qaabq-cai";if(!a)throw Error("HHDAO canister ID not found in environment variables");this.actor=c.vt.createActor(idlFactory,{agent:r,canisterId:a})}async getDashboardData(){try{this.actor||await this.initializeActor();let e=await this.actor.getDashboardData();return e}catch(e){throw console.error("Error fetching dashboard data:",e),e}}async getProjects(){try{this.actor||await this.initializeActor();let e=await this.actor.getProjects();return e}catch(e){throw console.error("Error fetching projects:",e),e}}async getProject(e){try{this.actor||await this.initializeActor();let t=await this.actor.getProject(e);return t}catch(e){throw console.error("Error fetching project:",e),e}}async createProposal(e){try{this.actor||await this.initializeActor();let t=await this.actor.createProposal(e);return t}catch(e){throw console.error("Error creating proposal:",e),e}}async getCyclesBalance(){try{this.actor||await this.initializeActor();let e=await this.actor.getCyclesBalance();return e}catch(e){throw console.error("Error fetching cycles balance:",e),e}}};let i=new HHDAOService;function useHHDAO(){let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)([]),[s,c]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null),fetchDashboardData=async()=>{try{c(!0),l(null);let e=await i.getDashboardData();t(e)}catch(e){l(e instanceof Error?e.message:"Failed to fetch dashboard data")}finally{c(!1)}},fetchProjects=async()=>{try{c(!0),l(null);let e=await i.getProjects();a(e)}catch(e){l(e instanceof Error?e.message:"Failed to fetch projects")}finally{c(!1)}},getProject=async e=>{try{c(!0),l(null);let t=await i.getProject(e);return t}catch(e){return l(e instanceof Error?e.message:"Failed to fetch project"),null}finally{c(!1)}},createProposal=async e=>{try{c(!0),l(null);let t=await i.createProposal(e);return t}catch(e){throw l(e instanceof Error?e.message:"Failed to create proposal"),e}finally{c(!1)}},getCyclesBalance=async()=>{try{c(!0),l(null);let e=await i.getCyclesBalance();return e}catch(e){return l(e instanceof Error?e.message:"Failed to fetch cycles balance"),null}finally{c(!1)}};return(0,n.useEffect)(()=>{fetchDashboardData(),fetchProjects()},[]),{dashboardData:e,projects:r,loading:s,error:o,fetchDashboardData,fetchProjects,getProject,createProposal,getCyclesBalance,refetch:()=>{fetchDashboardData(),fetchProjects()}}}var l=r(5772),u=r(5380),d=r(9213);let h=(0,d.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),f=(0,d.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=r(7946);function TestCanisterPage(){var e,t,r,n;let{dashboardData:s,projects:c,loading:o,error:i,refetch:d,getCyclesBalance:g}=useHHDAO(),handleTestCycles=async()=>{try{let e=await g();alert("Cycles Balance: ".concat(e))}catch(e){alert("Error: ".concat(e))}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"\uD83D\uDE80 HeliosHash DAO - Live Canister Test"}),(0,a.jsxs)(l.Zb,{className:"mb-6 bg-gray-800 border-gray-700",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-white flex items-center gap-2",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{className:"h-5 w-5 animate-spin text-blue-400"}),"Connecting to ICP Canister..."]}):i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{className:"h-5 w-5 text-red-400"}),"Connection Error"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-green-400"}),"Connected to Internet Computer"]})})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"space-y-2 text-gray-300",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Canister ID:"})," ","uzt4z-lp777-77774-qaabq-cai"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Network:"})," ","http://127.0.0.1:4943"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Status:"})," ",i?"Error":o?"Loading":"Connected"]})]}),(0,a.jsxs)("div",{className:"mt-4 space-x-2",children:[(0,a.jsx)(u.z,{onClick:d,disabled:o,children:"Refresh Data"}),(0,a.jsx)(u.z,{onClick:handleTestCycles,variant:"outline",children:"Test Cycles Balance"})]})]})]}),s&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-white",children:"\uD83D\uDCCA Dashboard Data"})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2 text-gray-300",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Projects:"})," ",(null===(e=s.projects)||void 0===e?void 0:e.length)||0]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Documents:"})," ",(null===(t=s.documents)||void 0===t?void 0:t.length)||0]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Devices:"})," ",(null===(r=s.devices)||void 0===r?void 0:r.length)||0]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"User Profile:"})," ",(null===(n=s.userProfile)||void 0===n?void 0:n[0])?"Yes":"No"]})]})})]}),(0,a.jsxs)(l.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-white",children:"\uD83C\uDFD7️ Projects"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"space-y-2",children:(null==c?void 0:c.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"text-gray-300 p-2 bg-gray-700 rounded",children:[(0,a.jsx)("p",{className:"font-medium",children:e.title||"Project ".concat(t+1)}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.description?"".concat(e.description.substring(0,50),"..."):""})]},t)))||(0,a.jsx)("p",{className:"text-gray-400",children:"No projects found"})})})]})]}),i&&(0,a.jsxs)(l.Zb,{className:"mt-6 bg-red-900/20 border-red-500/30",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-red-400",children:"❌ Error Details"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("pre",{className:"text-red-300 text-sm whitespace-pre-wrap",children:i})})]})]})})}},5380:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(7573),n=r(7653),s=r(6385);let c=n.forwardRef((e,t)=>{let{className:r,variant:n="default",size:c="default",...o}=e;return(0,a.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===n,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===n,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===n,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===n,"hover:bg-accent hover:text-accent-foreground":"ghost"===n,"text-primary underline-offset-4 hover:underline":"link"===n},{"h-10 px-4 py-2":"default"===c,"h-9 rounded-md px-3":"sm"===c,"h-11 rounded-md px-8":"lg"===c,"h-10 w-10":"icon"===c},r),ref:t,...o})});c.displayName="Button"},5772:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return c},aY:function(){return u},ll:function(){return i}});var a=r(7573),n=r(7653),s=r(6385);let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});c.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});u.displayName="CardContent";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});d.displayName="CardFooter"},6385:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var a=r(794),n=r(9654);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},8571:function(e){var t,r,a,n=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var s=[],c=!1,o=-1;function cleanUpNextTick(){c&&a&&(c=!1,a.length?s=a.concat(s):o=-1,s.length&&drainQueue())}function drainQueue(){if(!c){var e=runTimeout(cleanUpNextTick);c=!0;for(var t=s.length;t;){for(a=s,s=[];++o<t;)a&&a[o].run();o=-1,t=s.length}a=null,c=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new Item(e,t)),1!==s.length||c||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},function(e){e.O(0,[7212,6077,4797,1293,1053,1744],function(){return e(e.s=3337)}),_N_E=e.O()}]);