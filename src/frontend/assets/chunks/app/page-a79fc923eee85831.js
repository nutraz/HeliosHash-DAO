(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{7976:function(e,t,n){Promise.resolve().then(n.bind(n,6871))},6871:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return AuthEntry}});var a=n(7573),r=n(7653),s=n(8445);let l={IDLE:"idle",LOGGING_IN:"logging-in",AUTHENTICATED:"authenticated"},i="https://identity.ic0.app/#authorize";function AuthEntry(){let[e,t]=(0,r.useState)(l.IDLE),[n,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let n=await s.AuthClient.create();if(u.current=n,e&&await n.isAuthenticated()){let e=n.getIdentity().getPrincipal().toText();o(e),t(l.AUTHENTICATED),d("Authenticated via Internet Identity")}}catch(e){console.warn("AuthClient init failed",e)}})(),()=>{e=!1}},[]);let h=(0,r.useCallback)(async e=>{d("Initiating ".concat(e," login...")),t(l.LOGGING_IN);try{var n;let e=null!==(n=u.current)&&void 0!==n?n:await s.AuthClient.create();u.current=e,await e.login({identityProvider:i,onSuccess:async()=>{try{let n=e.getIdentity().getPrincipal().toText();o(n),t(l.AUTHENTICATED),d("Authentication successful")}catch(e){console.error("Failed to read principal after login",e),d("Authenticated but failed to read principal"),t(l.IDLE)}},onError:e=>{console.error("II login error",e),d("Login failed: ".concat(String(e))),t(l.IDLE)}})}catch(n){console.warn("AuthClient login failed, falling back to mock",n),await new Promise(e=>setTimeout(e,800));let e="2vzhg-4iaaa-aaaaa-b7y4a-cai";o(e),t(l.AUTHENTICATED),d("Success (mock). Principal ID: ".concat(e))}},[]),g=(0,r.useCallback)(async()=>{d("Logging out...");try{let e=u.current;e&&await e.logout()}catch(e){console.warn("Logout failed",e)}o(""),t(l.IDLE)},[]),getButtonClass=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return"w-full py-3 px-4 rounded-xl text-lg font-semibold transition-all duration-300 transform shadow-lg \n     ".concat(e?"bg-gradient-to-r from-emerald-500 to-teal-400 text-gray-900 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]":"bg-gray-700 text-gray-500 cursor-not-allowed")};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4 font-inter",children:[(0,a.jsx)("style",{children:"\n    @keyframes pulse-logo {\n      0%, 100% { transform: scale(1); opacity: 1; }\n      50% { transform: scale(1.05); opacity: 0.9; }\n    }\n    .pulsating-logo {\n      animation: pulse-logo 2s ease-in-out infinite;\n      box-shadow: 0 0 15px rgba(100, 255, 218, 0.7);\n    }\n  "}),(0,a.jsxs)("div",{className:"w-full max-w-md bg-gray-800 p-8 sm:p-10 rounded-3xl shadow-2xl border border-gray-700",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("img",{src:"/hhdaologo-main.svg",alt:"HeliosHash DAO Logo",className:"pulsating-logo w-24 h-24 mx-auto object-cover rounded-full mb-4 ring-4 ring-emerald-400/50",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/96x96/10b981/ffffff?text=DAO+Logo"}}),(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-emerald-400 tracking-wider",children:"HeliosHash DAO"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Decentralized Governance & Identity"})]}),e===l.AUTHENTICATED?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-white mb-4",children:"âœ… Authenticated"}),(0,a.jsxs)("p",{className:"text-gray-400 break-words mb-6 p-3 bg-gray-700 rounded-lg",children:["Principal: ",(0,a.jsx)("code",{className:"text-emerald-300 font-mono text-sm",children:n})]}),(0,a.jsx)("button",{onClick:g,className:getButtonClass().replace("from-emerald-500","from-gray-600").replace("to-teal-400","to-gray-500").replace("text-gray-900","text-white"),children:"Logout"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Authenticate with Internet Identity"}),(0,a.jsxs)("button",{onClick:()=>h("Internet Identity"),disabled:e===l.LOGGING_IN,className:getButtonClass(e===l.IDLE),children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83C\uDF10"}),e===l.LOGGING_IN?"Connecting to II...":"Sign in with Internet Identity"]}),(0,a.jsxs)("button",{onClick:()=>h("Mobile"),disabled:e===l.LOGGING_IN,className:getButtonClass(e===l.IDLE),children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCF1"}),e===l.LOGGING_IN?"Connecting...":"Login with Mobile Identity"]}),(0,a.jsxs)("button",{onClick:()=>h("Social/Passkey"),disabled:e===l.LOGGING_IN,className:getButtonClass(e===l.IDLE),children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDD10"}),e===l.LOGGING_IN?"Connecting...":"Login with Passkey/Social"]}),c&&(0,a.jsx)("p",{className:"text-sm text-center pt-2 text-yellow-400",children:c.includes("Success")?(0,a.jsx)("span",{className:"text-emerald-400",children:c}):c}),(0,a.jsx)("div",{className:"pt-4 text-center",children:(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Uses the ",(0,a.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Internet Identity"})," standard for authentication."]})})]})]})]})}},8294:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(7653),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7573:function(e,t,n){"use strict";e.exports=n(8294)}},function(e){e.O(0,[7212,8445,1293,1053,1744],function(){return e(e.s=7976)}),_N_E=e.O()}]);