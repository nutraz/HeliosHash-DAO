(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2191],{7629:function(e,t,a){Promise.resolve().then(a.bind(a,2824))},2824:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return UrgamUPage}});var r,n,s=a(7573),l=a(7653),i=a(1412);function UrgamUDelhiDashboard(e){let{language:t}=e,[a,r]=(0,l.useState)("Overview"),{data:c}=(0,i.q)("urgamu-delhi"),[o,d]=(0,l.useState)(),[u,h]=(0,l.useState)(),[m,x]=(0,l.useState)({solarOutput:"45.2 kW",batteryLevel:"87%",gridUsage:"2.1 kW",surplus:"39.3 kW"}),calculateInstantPower=(e,t,a)=>{if(void 0!==t&&a&&a>0)return Math.max(0,Math.min(50,(e-t)/a));let r=new Date().getHours(),n=50*[0,0,0,0,.1,.3,.6,.8,.9,1,.95,.85,.7,.5,.3,.1,0,0,0,0,0,0,0,0][r];return n};return(0,l.useEffect)(()=>{if((null==c?void 0:c.solar_kwh)&&"number"==typeof c.solar_kwh){let e=new Date,t=1;void 0!==o&&u&&(t=Math.max(.1,Math.min(24,t=(e.getTime()-u.getTime())/36e5)));let a=calculateInstantPower(c.solar_kwh,o,t);x(e=>({...e,solarOutput:"".concat(a.toFixed(1)," kW")})),d(c.solar_kwh),h(e)}},[null==c?void 0:c.solar_kwh]),(0,l.useEffect)(()=>{let e=setInterval(()=>{x(e=>({...e,solarOutput:"".concat((10*Math.random()+45).toFixed(1)," kW"),batteryLevel:"".concat(Math.floor(10*Math.random()+80),"%"),gridUsage:"".concat((1*Math.random()+1.5).toFixed(1)," kW"),surplus:"".concat((10*Math.random()+35).toFixed(1)," kW")}))},5e3);return()=>clearInterval(e)},[]),(0,s.jsx)("div",{"data-language":t,className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"flex space-x-4 mb-6",children:Object.values(n).map(e=>(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg font-semibold transition-all ".concat(a===e?"bg-orange-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"),onClick:()=>r(e),children:e},e))}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-md rounded-xl border border-slate-700 p-6",children:["Overview"===a&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-900/50 to-amber-900/50 backdrop-blur-md rounded-xl border border-orange-500/30 p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"text-5xl",children:"⛏️"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white font-orbitron",children:"UrgamU Delhi Mining Center"}),(0,s.jsx)("p",{className:"text-slate-300 mt-1",children:"Solar-Powered Bitcoin Mining • 3 Acres • 50 kW Capacity"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(m).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-md rounded-xl border border-slate-700 p-4",children:[(0,s.jsx)("div",{className:"text-slate-400 text-sm",children:t.charAt(0).toUpperCase()+t.slice(1)}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400 mt-1",children:a})]},t)})})]}),"Mining Stats"===a&&(0,s.jsx)("div",{className:"text-white",children:"Mining Stats Content"}),"Energy Monitor"===a&&(0,s.jsx)("div",{className:"text-white",children:"Energy Monitor Content"}),"ROI Tracker"===a&&(0,s.jsx)("div",{className:"text-white",children:"ROI Tracker Content"})]})]})})}(r=n||(n={})).Overview="Overview",r.Mining="Mining Stats",r.Energy="Energy Monitor",r.ROI="ROI Tracker";var c=a(5772),o=a(5380);let d=[{id:"j1",title:"Panel Installation - Baghpat",location:"Baghpat, UP",budget:"₹12,50,000"},{id:"j2",title:"On-site Inspector",location:"Delhi NCR",budget:"₹85,000"}],u=[{id:"p1",author:"Priya",text:"Baghpat grid 75% complete!"},{id:"p2",author:"Raj",text:"Looking for labour for rooftop installs."}];function JobSocialHub(e){let{language:t="en"}=e,[a]=(0,l.useState)(d),[r]=(0,l.useState)(u),applyJob=e=>{alert("".concat("en"===t?"Applied to":"आवेदन किया"," ").concat(e))};return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"en"===t?"Job Board":"नौकरी बोर्ड"})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.title}),(0,s.jsxs)("div",{className:"text-gray-400 text-sm",children:[e.location," • ",e.budget]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(o.z,{onClick:()=>applyJob(e.id),children:"en"===t?"Apply":"आवेदन करें"})})]},e.id))})})]}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"en"===t?"Social Feed":"सोशल फीड"})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,s.jsx)("div",{className:"p-3 bg-gray-800 rounded",children:(0,s.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,s.jsxs)("strong",{children:[e.author,":"]})," ",e.text]})},e.id))})})]})]})})}var h=a(9354);function Governance(e){let{language:t="en"}=e,{user:a}=(0,h.a)(),vote=(e,a)=>{alert("".concat("en"===t?"Voted":"वोट दिया"," ").concat(a," on ").concat(e))};return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"en"===t?"Governance":"शासन"})}),(0,s.jsx)(c.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[[{id:"p1",title:"Increase landowner payout share",status:"Voting"},{id:"p2",title:"Grant funds for community center",status:"Open"}].map(e=>(0,s.jsxs)("div",{className:"p-3 bg-gray-800 rounded flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.title}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.status})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(o.z,{onClick:()=>vote(e.id,"yes"),children:"en"===t?"Yes":"हाँ"}),(0,s.jsx)(o.z,{onClick:()=>vote(e.id,"no"),children:"en"===t?"No":"नहीं"})]})]},e.id)),(null==a?void 0:a.walletType)==="internet-identity"&&(null==a?void 0:a.principal)&&(0,s.jsx)("div",{className:"mt-4",children:(null==a?void 0:a.role)==="trustee"?(0,s.jsx)(o.z,{onClick:()=>{alert("en"===t?"Create proposal (not wired yet)":"प्रस्ताव बनाएं (अभी वायर्ड नहीं)")},children:"en"===t?"Create Proposal":"प्रस्ताव बनाएं"}):(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"en"===t?"Only trustees can create proposals":"केवल ट्रस्टी प्रस्ताव बना सकते हैं"})})]})})]})})}function DisputeResolution(e){let{language:t="en"}=e,[a,r]=(0,l.useState)(""),fileDispute=async()=>{alert("en"===t?"Dispute filed (mock)":"विवाद दर्ज किया गया (मॉक)")};return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"en"===t?"File Dispute":"शिकायत दर्ज करें"})}),(0,s.jsxs)(c.aY,{children:[(0,s.jsx)("textarea",{className:"w-full p-3 bg-gray-900 text-white rounded",rows:6,placeholder:"en"===t?"Describe the issue...":"समस्या का वर्णन करें...",value:a,onChange:e=>r(e.target.value)}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(o.z,{onClick:fileDispute,children:"en"===t?"Submit":"जमा करें"})})]})]}),(0,s.jsxs)(c.Zb,{className:"mt-4",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"en"===t?"Active Disputes":"सक्रिय विवाद"})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"en"===t?"No active disputes (mock).":"कोई सक्रिय विवाद नहीं (मॉक)।"})})]})]})}function UrgamUPage(){let[e,t]=(0,l.useState)("dashboard");return(0,s.jsxs)("div",{className:"min-h-screen p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Helios#Baghpat — UrgamU Delhi"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(o.z,{onClick:()=>t("dashboard"),children:"Dashboard"}),(0,s.jsx)(o.z,{onClick:()=>t("jobs"),children:"Jobs & Social"}),(0,s.jsx)(o.z,{onClick:()=>t("governance"),children:"Governance"}),(0,s.jsx)(o.z,{onClick:()=>t("disputes"),children:"Disputes"})]})]}),(0,s.jsxs)("div",{children:["dashboard"===e&&(0,s.jsx)(UrgamUDelhiDashboard,{language:"en"}),"jobs"===e&&(0,s.jsx)(JobSocialHub,{language:"en"}),"governance"===e&&(0,s.jsx)(Governance,{language:"en"}),"disputes"===e&&(0,s.jsx)(DisputeResolution,{language:"en"})]}),(0,s.jsx)("p",{className:"mt-6 text-xs text-gray-500",children:"This module is a web-compatible implementation; for React Native + Expo target create equivalent screens in the mobile app and wire Motoko canister calls using @dfinity/agent."})]})}},5380:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var r=a(7573),n=a(7653),s=a(6385);let l=n.forwardRef((e,t)=>{let{className:a,variant:n="default",size:l="default",...i}=e;return(0,r.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===n,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===n,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===n,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===n,"hover:bg-accent hover:text-accent-foreground":"ghost"===n,"text-primary underline-offset-4 hover:underline":"link"===n},{"h-10 px-4 py-2":"default"===l,"h-9 rounded-md px-3":"sm"===l,"h-11 rounded-md px-8":"lg"===l,"h-10 w-10":"icon"===l},a),ref:t,...i})});l.displayName="Button"},5772:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var r=a(7573),n=a(7653),s=a(6385);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})});u.displayName="CardFooter"},1412:function(e,t,a){"use strict";a.d(t,{q:function(){return useHeliosLiveStats}});var r=a(7653),n=a(8571);let s={solar_kwh:248.3,btc_mined:.0032,crop_yield_percent:87,members:1825,updated_at:Date.now()};function cacheKey(e){return"helios_stats_".concat(e)}async function fetchLiveStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"helios-baghpat",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=cacheKey(e),r=window.localStorage.getItem(a);if(r&&!t){let e=JSON.parse(r);if(Date.now()-e.updated_at<1e4)return e}}catch(e){}try{let{Actor:t,HttpAgent:r}=await Promise.all([a.e(7212),a.e(6077),a.e(5332)]).then(a.bind(a,5332)),l=new r({host:"http://127.0.0.1:4943"});try{{let{AuthClient:e}=await Promise.all([a.e(7212),a.e(8445)]).then(a.bind(a,8445)),t=await e.create();if(await t.isAuthenticated()){let e=await t.getIdentity();l=new r({host:"http://127.0.0.1:4943",identity:e})}}}catch(e){}let i=n.env.NEXT_PUBLIC_PROJECT_HUB_CANISTER_ID;if(i){let a=t.createActor(e=>{let{IDL:t}=e,a=t.Record({efficiency_percentage:t.Nat,last_production_date:t.Opt(t.Int),operational_days:t.Nat,revenue_generated_usd:t.Nat,total_energy_kwh:t.Nat}),r=t.Variant({err:t.Text,ok:a});return t.Service({get_project_stats:t.Func([t.Text],[r],["query"])})},{agent:l,canisterId:i});if(a&&"function"==typeof a.get_project_stats){let t=await a.get_project_stats(e);if(t&&"object"==typeof t&&"ok"in t){let a=t.ok,r={solar_kwh:Number(a.total_energy_kwh)||s.solar_kwh,btc_mined:0,crop_yield_percent:Number(a.efficiency_percentage)||s.crop_yield_percent,members:Number(a.operational_days)||s.members,updated_at:Date.now()};try{window.localStorage.setItem(cacheKey(e),JSON.stringify(r))}catch(e){}return r}}}}catch(e){}let r=n.env.NEXT_PUBLIC_HELIOS_API;if(r)try{let t=await fetch("".concat(r.replace(/\/$/,""),"/projects/").concat(e,"/stats"),{headers:{Accept:"application/json"}});if(!t.ok)throw Error("Network error");let a=await t.json(),n={solar_kwh:Number(a.solar_kwh)||0,btc_mined:Number(a.btc_mined)||0,crop_yield_percent:Number(a.crop_yield_percent)||0,members:Number(a.members)||0,updated_at:Date.now()};try{window.localStorage.setItem(cacheKey(e),JSON.stringify(n))}catch(e){}return n}catch(e){}return{...s,updated_at:Date.now()}}function useHeliosLiveStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"helios-baghpat",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,[a,s]=(0,r.useState)(null),[l,i]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let a=!0,r=null;try{"BroadcastChannel"in window&&((r=new BroadcastChannel("helios_stats")).onmessage=t=>{try{let r=t.data;if((null==r?void 0:r.projectId)===e&&(null==r?void 0:r.stats)){if(!a)return;s(r.stats),i(!1)}}catch(e){}})}catch(e){r=null}let l=null,c=null,d=0,openWs=()=>{try{let t=n.env.NEXT_PUBLIC_HELIOS_WS;t&&((l=new WebSocket(t)).onopen=()=>{d=0},l.onmessage=t=>{try{let r=JSON.parse(t.data);if((null==r?void 0:r.projectId)===e&&(null==r?void 0:r.stats)){if(!a)return;s(r.stats),i(!1);try{window.localStorage.setItem(cacheKey(e),JSON.stringify(r.stats))}catch(e){}}}catch(e){}},l.onclose=()=>{if(l=null,a&&d<6){let e=Math.min(3e4,1e3*2**d);d+=1,c=window.setTimeout(()=>{c=null,openWs()},e)}},l.onerror=()=>{})}catch(e){l=null}};async function load(){i(!0);try{let t=await fetchLiveStats(e);if(!a)return;if(s(t),o(null),r)try{r.postMessage({projectId:e,stats:t})}catch(e){}}catch(t){if(!a)return;let e=t instanceof Error?t:Error(String(t));o(e)}finally{if(!a)return;i(!1)}}openWs(),load();let u=setInterval(load,t);return()=>{a=!1,clearInterval(u);try{r&&r.close()}catch(e){}try{l&&l.close()}catch(e){}try{c&&window.clearTimeout(c)}catch(e){}}},[e,t]),{data:a,loading:l,error:c}}},6385:function(e,t,a){"use strict";a.d(t,{cn:function(){return cn}});var r=a(794),n=a(9654);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[7212,6077,8445,4797,9354,1293,1053,1744],function(){return e(e.s=7629)}),_N_E=e.O()}]);