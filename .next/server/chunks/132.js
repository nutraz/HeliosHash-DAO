"use strict";exports.id=132,exports.ids=[132],exports.modules={8821:(e,r,t)=>{t.d(r,{R:()=>Ed25519KeyIdentity});var i=t(6541),n=t(52),s=t(1070),o=t(2961),y=t(2875);function isObject(e){return null!==e&&"object"==typeof e}let Ed25519PublicKey=class Ed25519PublicKey{static from(e){if("string"==typeof e){let r=(0,y.nr)(e);return this.fromRaw(r)}if(isObject(e)){if(isObject(e)&&Object.hasOwnProperty.call(e,"__derEncodedPublicKey__"))return this.fromDer(e);if(ArrayBuffer.isView(e))return this.fromRaw((0,s.ZP)(e.buffer));if(e instanceof ArrayBuffer)return this.fromRaw((0,s.ZP)(e));if("rawKey"in e&&e.rawKey instanceof Uint8Array)return this.fromRaw(e.rawKey);else if("derKey"in e)return this.fromDer(e.derKey);else if("toDer"in e)return this.fromDer(e.toDer())}throw Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Ed25519PublicKey(e)}static fromDer(e){return new Ed25519PublicKey(this.derDecode(e))}static{this.RAW_KEY_LENGTH=32}static derEncode(e){let r=(0,i.nt)(e,i.BM);return r.__derEncodedPublicKey__=void 0,r}static derDecode(e){let r=(0,i.eZ)(e,i.BM);if(r.length!==this.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");return r}#e;get rawKey(){return this.#e}#r;get derKey(){return this.#r}constructor(e){if(e.byteLength!==Ed25519PublicKey.RAW_KEY_LENGTH)throw Error("An Ed25519 public key must be exactly 32bytes long");this.#e=e,this.#r=Ed25519PublicKey.derEncode(e)}toDer(){return this.derKey}toRaw(){return this.rawKey}};let Ed25519KeyIdentity=class Ed25519KeyIdentity extends n.$4{static generate(e){if(e&&32!==e.length)throw Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=o.UN.utils.randomPrivateKey()),(0,s.mK)(e,new Uint8Array(Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");let r=new Uint8Array(32);for(let t=0;t<32;t++)r[t]=e[t];let t=o.UN.getPublicKey(r);return Ed25519KeyIdentity.fromKeyPair(t,r)}static fromParsedJson(e){let[r,t]=e;return new Ed25519KeyIdentity(Ed25519PublicKey.fromDer((0,y.nr)(r)),(0,y.nr)(t))}static fromJSON(e){let r=JSON.parse(e);if(Array.isArray(r)){if("string"==typeof r[0]&&"string"==typeof r[1])return this.fromParsedJson([r[0],r[1]]);throw Error("Deserialization error: JSON must have at least 2 items.")}throw Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,r){return new Ed25519KeyIdentity(Ed25519PublicKey.fromRaw(e),r)}static fromSecretKey(e){let r=o.UN.getPublicKey(e);return Ed25519KeyIdentity.fromKeyPair(r,e)}#t;#i;constructor(e,r){super(),this.#t=Ed25519PublicKey.from(e),this.#i=r}toJSON(){return[(0,y.ci)(this.#t.toDer()),(0,y.ci)(this.#i)]}getKeyPair(){return{secretKey:this.#i,publicKey:this.#t}}getPublicKey(){return this.#t}async sign(e){let r=o.UN.sign(e,this.#i.slice(0,32));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,r,t){let[i,n,a]=[e,r,t].map(e=>("string"==typeof e&&(e=(0,y.nr)(e)),(0,s.ZP)(e)));return o.UN.verify(i,n,a)}}}};